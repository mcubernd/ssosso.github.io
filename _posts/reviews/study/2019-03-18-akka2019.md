---
title: Akka 스터디 회고 (2019)
key: /reviews/study/akka2019
modify_date: 2019-04-14
permalink: /reviews/study/akka2019
tags: 스터디회고
---

Akka 스터디가 드디어 지난 3/14에 마무리되면서 그 내용을 공유하고자 한다. 업무 중에 아주 짬짬히 시간을 내어 1주일에 'Akka 코딩 공작소' 서적 한 chapter씩 진행하였다.

> 총 17회 진행, 2018/11/14 ~ 2019/03/14

> 스터디 총 인원: 2명

## 1. 'Akka 코딩 공작소'라는 책에 충실한 스터디였으므로, 책에 대한 이야기를 먼저 하자면,

### 1) 책에서 꼭 읽어야 하는 chapter
전반적으로 다 읽을 수 있다면 좋겠지만, 책에는 너무 다양한 내용을 모두 이야기하고자 하다보니 설명이 부족한 부분이 있다. 따라서 만약 내용 중에서 기초적인 내용이면서 중요하다고 판단되고 동료에게 읽어볼 것을 추천하고 싶은 장은 아래와 같다.
- 1장 아카 소개
- 2장 액터를 사용한 테스트 주도 개발
- 3장 내고장성 (액터의 생명주기, 액터 감독)
- 10장 메시지 채널 (발행-구독 채널, 데드레터 채널)
- 13장 스트리밍
- 15장 액터 영속성
- 16장 성능 향상 팁

이 외 조금 더 읽어본다면, 그 다음은 아래와 같은 내용이 좋을 것이라고 생각한다.
- 8장 액터를 사용한 구조적 패턴
- 9장 메시지 라우팅하기
- 6장 첫 번째 분산 아카 애플리케이션

나머지는 추가적으로 읽어본다면 Akka에 대한 더욱 풍성한 시각(?)을 가질 수 있게 될 것이다.

### 2) 책에는 실려있지만 deprecate된 것들
내용 중에는 이미 Akka 2.5 버전 이상 발표되면서 deprecate된 내용도 담고 있어 스터디를 함께하는 동료의 주도하에 deprecate된 부분과 그 이유에 대해서 알아보는 시간도 많이 가졌다. deprecate된 내용으로는 아래와 같은 것들이 있다.
- **8.2에서 소개하는 Akka 제공 'Aggregator'는 2.5까지만 제공하고 현재는 deprecated.**<br/>
  (akka-contrib이라는 모듈이 전체적으로 deprecated되면서 Aggregator도 deprecated되었는데, akka-contrib 모듈은 Akka에서 별도 모듈들로 만들기에는 그 규모가 작은 유틸성 구현체들이 한데 모여있어 버전업이 되면서 제 각기 좀 더 명확한 모듈로 옮겨가거나 사용자에게 직접 구현해서 사용할 것을 권장하며 deprecated하였다. Aggregator는 사용자가 직접 구현하도록 가이드하고 있다.)
- **10.2.2에서 소개하는 'ReliableProxy'는 2.5에서 deprecated.**<br/>
  (이 또한 akka-contrib 모듈에 속해 있는 구현체이다. 따라서 위와 같은 이유로 deprecated하였다. ReliableProxy를 사용하는 대신 15장에서 설명하는 AtLeastOnceDelivery를 사용할 것을 권장하고 있다.)
- **11.3에서 소개하는 'Agent'는 2.5에서 deprecated.**<br/>
  (네트워크에서 작동하지 못하는 빈틈이 있는 추상화이기 때문에 사용 금지 되었다고 하며, akka-typed 모듈 추가를 앞둔 상황이었기 때문에 타입을 지정한 액터가 Agent보다 우월한 추상화를 제공할 수 있을 것으로 기대한다는 내용이 실려있다.)
- **12장에서 소개하는 'akka-camel' 모듈을 2.5에서 deprecated.**<br/>
  (akka-camel은 다양한 endpoint와의 통합을 지원하는 akka-stream을 사용할 것을 권장하면서 별도로 제공될 필요성이 없음을 안내하고 있다.)

이 정도만 확인해도 꽤 많은 변화가 진행되고 있음을 알 수 있다. 혹시나 책을 기반으로 같은 스터디를 진행하거나 개인적인 공부를 하게 된다면 deprecated 사항을 꼭 확인하면서 진행하실 것을 제안한다:)

### 3) worst practice인지 확인해야 하는 것
worst practice라고 인터넷에 이야기되고 있는 부분을 소개하는 장도 있다.
11.1에서 소개하는 FSM에 대한 부분이다.
아래 링크를 참고하면 왜 worst parctice일 수 있는지 확인할 수 있다.


https://github.com/alexandru/scala-best-practices/blob/master/sections/5-actors.md#55-should-not-use-akka-fsm


## 2. 스터디가 남긴 것은 무엇일까.

### 1) '이제 좀 Akka를 알겠는' 나
현재 직장에서 맡고 있는 프로젝트 코드에서 Akka와 관련된 코드만 보면 멘붕이던 나를 '이제 좀 Akka를 알겠는' 나로 만들었다.<br/>
Scala 스터디를 작년에 마치면서 Scala는 이제 '조금' 알겠는데, Akka, Actor..는 도무지..하며 멘붕에 빠지기 일쑤였다.<br/>
'모르는 것'은 그 정체를 알기 전까지 굉장히 거대해 보이는데, 내가 딱 그 거대함에 위축되어 있을 때였다.<br/>
스터디를 끝낸 지금은 그래도 '조금은 Akka라는게 뭔지 알거 같다'라는 마음이 생겼다.<br/>
모르는게 있으면 'OOO 키워드'로 찾아보면 되겠다! 라는 나름의 서칭 루트도 생겼다는:)

### 2) 업무를 같이 하지 않는 동료의 가치관과 장점을 흡수할 수 있는 기회
늘 스터디를 하면서 느끼는 것이지만 내 주변에 있는 동료들은 하나같이 보석같은 장점들을 가지고 있다.<br/>
게다가 자신을 표현할 수 있는 명확한 가치관도 가지고 있다.<br/>
그래서 늘 스터디를 통해 지식도 배우지만 사람도 배운다.<br/>
이번 스터디를 끝까지 나와 함께 해준 내 동료는 항상 행동과 생각이 담백한 동료이다. 게다가 명확히 중요한 것에 대해서 이야기하고 이를 전달하는 힘이 있어, 함께 논의를 하면 내가 생각하는 이상적인 방향으로 이야기가 전개된다.<br/>
그 동료에게 많이 배울 수 있었고 굉장히 의미있는 17주였다는 생각이다.<br/>
